### **Теория: события и объект event**

1.  **Что такое событие в JS**
    
    -   Это любое действие пользователя или браузера, которое может быть обработано в коде. Примеры: `click`, `submit`, `keydown`, `mousemove`, `resize`.
2.  **Как обрабатываются события**
    
    -   С помощью **слушателей событий** (event listeners), которые "слушают" указанный элемент на предмет определённого события и вызывают коллбек-функцию при его наступлении.
    
    ```js
    element.addEventListener("click", (event) => {
      // код при клике
    });
    ```
    
3.  **Объект event**
    
    -   Автоматически передается в обработчик.
        
    -   Хранит всю информацию о событии:
        
        -   Тип события (`event.type`)
        -   Целевой элемент (`event.target`)
        -   Координаты мыши при клике (`event.clientX`, `event.clientY`)
        -   Состояние клавиш-модификаторов (`event.altKey`)
        -   и другие свойства в зависимости от события.
    -   Для формы `submit` содержит ссылки на саму форму и её поля.
        
4.  **event.preventDefault()**
    
    -   Останавливает действие события по умолчанию.
    -   Например, при отправке формы браузер по умолчанию перезагружает страницу. `preventDefault()` это предотвращает, чтобы можно было обработать данные через JS.

___

### **Разбор кода по шагам**

#### **1\. Получение элементов DOM**

```js
const form = document.querySelector("#form-todo");
const ul = document.querySelector("#list-todo");
```

Ты находишь элементы формы и `<ul>` в HTML и сохраняешь их в переменные для дальнейшей работы.

___

#### **2\. Создание массива для хранения задач**

Массив `taskList` будет хранить все задачи, чтобы можно было проверять дубликаты и вести состояние списка.

___

#### **3\. Обработка события submit**

```js
form.addEventListener("submit", (event) => {
  event.preventDefault();
  ...
});
```

При отправке формы:

-   Останавливается действие по умолчанию (`event.preventDefault()`).
    
-   Извлекаются данные из полей input через `event.target` (сам элемент формы) и `name` полей:
    
    ```js
    let task = {
      where: event.target.where.value.toLowerCase(),
      what: event.target.what.value.toLowerCase()
    };
    ```
    
-   Преобразуются в нижний регистр для единообразия.
    

___

#### **4\. Очистка полей ввода**

```js
event.target.where.value = "";
event.target.what.value = "";
```

После получения данных поля очищаются, чтобы пользователь мог сразу ввести новые.

___

#### **5\. Проверка на наличие задачи в массиве**

```js
const check = taskList.find((el) => el.what === task.what && el.where === task.where);
```

Метод `find` проверяет, есть ли уже такая задача в массиве `taskList`. Если элемент найден, выводится `alert`.

___

#### **6\. Добавление задачи в массив и отображение**

Если дубликата нет:

-   Задача добавляется в массив.
-   Создаётся новый `<li>` элемент.
-   Назначается слушатель события `click` для каждой задачи, чтобы переключать класс:

```js
li.addEventListener("click", (event) => {
  if (event.target.className === "done") {
    event.target.className = "";
  } else {
    event.target.className = "done";
  }
});
```

Это позволяет реализовать отметку задачи как выполненной (через CSS-стиль класса `done`).

-   В `li.textContent` записывается описание задачи.
-   Новый элемент добавляется в `<ul>`.

___

#### **7\. Вывод массива в консоль**

Показывает текущее состояние списка задач после каждого добавления.

___

### **Ключевые выводы по этому коду**

-   `event.target` используется для доступа к элементу, вызвавшему событие (здесь – форма и её поля).
-   `preventDefault()` предотвращает перезагрузку страницы при отправке формы.
-   Используется массив для хранения состояния задач.
-   Каждый элемент `<li>` получает свой обработчик клика для смены класса.
-   Такая структура кода – классический пример динамического создания списка с валидацией и интерактивным поведением через события.
